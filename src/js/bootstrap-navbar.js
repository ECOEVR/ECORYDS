import e from"./utils";let navbarInit=()=>{let a={NAVBAR:"[data-navbar-on-scroll]",NAVBAR_COLLAPSE:".navbar-collapse",NAVBAR_TOGGLER:".navbar-toggler"},s={COLLAPSED:"collapsed"},t={SCROLL:"scroll",SHOW_BS_COLLAPSE:"show.bs.collapse",HIDE_BS_COLLAPSE:"hide.bs.collapse",HIDDEN_BS_COLLAPSE:"hidden.bs.collapse"},l={NAVBAR_ON_SCROLL:"navbar-light-on-scroll"},n=document.querySelector(a.NAVBAR);if(n.addEventListener("click",s=>{s.target.classList.contains("nav-link")&&window.innerWidth<e.getBreakpoint(n)&&n.querySelector(a.NAVBAR_TOGGLER).click()}),n){let o=window.innerHeight,r=document.documentElement,i=n.querySelector(a.NAVBAR_COLLAPSE),L={...e.colors,...e.grays},d=e.getData(n,l.NAVBAR_ON_SCROLL),c=Object.keys(L).includes(d)?d:"light",g=L[c],A=`bg-${c}`,S="padding-transition",E=e.hexToRgb(g),{backgroundImage:b}=window.getComputedStyle(n);n.style.backgroundImage="none",window.addEventListener(t.SCROLL,()=>{let{scrollTop:a}=r,s=a/o*.35;n.classList.add("backdrop"),0===s&&n.classList.remove("backdrop"),s>=1&&(s=1),n.style.backgroundColor=`rgba(${E[0]}, ${E[1]}, ${E[2]}, ${s})`,n.style.backgroundImage=s>0||e.hasClass(i,"show")?b:"none",s>0||e.hasClass(i,"show")?n.classList.add(S):n.classList.remove(S)}),e.resize(()=>{let t=e.getBreakpoint(n);window.innerWidth>t?n.style.backgroundImage=r.scrollTop?b:"none":e.hasClass(n.querySelector(a.NAVBAR_TOGGLER),s.COLLAPSED)||(n.style.backgroundImage=b),window.innerWidth}),i.addEventListener(t.SHOW_BS_COLLAPSE,()=>{n.classList.add(A),n.style.backgroundImage=b,n.style.transition="background-color,padding 0.35s ease"}),i.addEventListener(t.HIDE_BS_COLLAPSE,()=>{n.classList.remove(A),r.scrollTop||(n.style.backgroundImage="none")}),i.addEventListener(t.HIDDEN_BS_COLLAPSE,()=>{})}};export default navbarInit;